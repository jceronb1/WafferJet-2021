Index: app/src/main/java/com/example/u_vallet/Activity_EditarPerfil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.u_vallet;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.DatePicker;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.InputStream;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class Activity_EditarPerfil extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseDatabase database;\r\n    private DatabaseReference myRef;\r\n    private StorageReference mStorageRef;\r\n    public static final String PATH_USERS = \"users/\";\r\n\r\n    private EditText mNombreUsuario;\r\n    private EditText mNombreCompleto;\r\n    private EditText mContraseñaAntigua;\r\n    private TextView mFechaNacimeiento;\r\n    private EditText mTelefono;\r\n    private EditText mDireccion;\r\n    private ImageView mImageView;\r\n\r\n    int IMAGE_PICKER_REQUEST = 1;\r\n    int REQUEST_IMAGE_CAPTURE = 2;\r\n\r\n    private int STORAGE_PERMISSION_CODE = 1;\r\n    private int CAMERA_PERMISSION_CODE = 2;\r\n\r\n    private TextView mDisplayDate;\r\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_editar_perfil);\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n        mNombreUsuario = (EditText) findViewById(R.id.nombreUsuarioText);\r\n        mNombreCompleto = (EditText) findViewById(R.id.nombreCompletoText);\r\n        mContraseñaAntigua = (EditText) findViewById(R.id.contrasenaAntiguaText);\r\n        mFechaNacimeiento = (TextView) findViewById(R.id.fechaNacimientoPick);\r\n        mTelefono = (EditText) findViewById(R.id.telefonoText);\r\n        mDireccion = (EditText) findViewById(R.id.direccionText);\r\n        mImageView = (ImageView) findViewById(R.id.imagenFotoPerfil);\r\n\r\n        StorageReference profileRef = mStorageRef.child(\"users/\"+mAuth.getCurrentUser().getUid()+\"/profile.jpg\");\r\n        profileRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n            @Override\r\n            public void onSuccess(Uri uri) {\r\n                Picasso.get().load(uri).into(mImageView);\r\n            }\r\n        });\r\n\r\n        loadUserInfo();\r\n        Button botonCambiarImagen = (Button) findViewById(R.id.botonCambiarImagen);\r\n        botonCambiarImagen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(ContextCompat.checkSelfPermission( Activity_EditarPerfil.this,\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED){\r\n                    Toast.makeText(Activity_EditarPerfil.this, \"You have already granted this permission!\", Toast.LENGTH_SHORT).show();\r\n                    Intent pickImage = new Intent(Intent.ACTION_PICK);\r\n                    pickImage.setType(\"image/*\");\r\n                    startActivityForResult(pickImage, IMAGE_PICKER_REQUEST);\r\n                }else{\r\n                    requestStoragePermission();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        Button botonTomarFoto = (Button) findViewById(R.id.botonTomarFoto);\r\n        botonTomarFoto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(ContextCompat.checkSelfPermission(Activity_EditarPerfil.this,\r\n                        Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED){\r\n                    Toast.makeText(Activity_EditarPerfil.this, \"You have already granted this permission!\", Toast.LENGTH_SHORT).show();\r\n                    takeImage();\r\n                }else{\r\n                    requestCamaraPermission();\r\n                }\r\n            }\r\n        });\r\n        mDisplayDate = (TextView) findViewById(R.id.fechaNacimientoPick);\r\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Calendar cal = Calendar.getInstance();\r\n                int year = cal.get(Calendar.YEAR);\r\n                int month = cal.get(Calendar.MONTH);\r\n                int day = cal.get(Calendar.DAY_OF_MONTH);\r\n                DatePickerDialog dialog = new DatePickerDialog(\r\n                        Activity_EditarPerfil.this,\r\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,\r\n                        mDateSetListener,\r\n                        year,month,day);\r\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                dialog.show();\r\n            }\r\n        });\r\n        mDateSetListener = new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth){\r\n                String sDay;\r\n                String sMonth;\r\n                month = month + 1;\r\n                Log.d(\"DATE_PICK\", \"onDateSet: date: \"+dayOfMonth+\"/\"+month+\"/\"+year);\r\n                if(dayOfMonth < 10)\r\n                    sDay = \"0\"+ dayOfMonth;\r\n                else\r\n                    sDay = String.valueOf(dayOfMonth);\r\n\r\n                if(month < 10)\r\n                    sMonth = \"0\" + month;\r\n                else\r\n                    sMonth = String.valueOf(month);\r\n                String date = sDay + \"/\" + sMonth + \"/\"+ year;\r\n                mDisplayDate.setText(date);\r\n            }\r\n        };\r\n        Button Guardar = (Button)findViewById(R.id.botonGuardar);\r\n        Button Cancelar = (Button)findViewById(R.id.cancelar);\r\n        Guardar.setOnClickListener((new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intentRoles = new Intent(v.getContext(), Activity_Roles.class);\r\n                startActivity(intentRoles);\r\n            }\r\n        }));\r\n        Cancelar.setOnClickListener((new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intentRoles = new Intent(v.getContext(), Activity_Roles.class);\r\n                startActivity(intentRoles);\r\n            }\r\n        }));\r\n\r\n    }\r\n\r\n    private void requestStoragePermission(){\r\n        if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)){\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(\"Permiso requerido\")\r\n                    .setMessage(\"Este permiso es requerido para el acceso a su galeria\")\r\n                    .setPositiveButton(\"ok\", new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            ActivityCompat.requestPermissions(Activity_EditarPerfil.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\r\n                        }\r\n                    })\r\n                    .setNegativeButton(\"cancel\", new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    })\r\n                    .create().show();\r\n        } else{\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},STORAGE_PERMISSION_CODE);\r\n        }\r\n    }\r\n    private void requestCamaraPermission(){\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) {\r\n            new AlertDialog.Builder(this)\r\n                .setTitle(\"Permiso requerido\")\r\n                .setTitle(\"Este permiso es requerido para el acceso a su camarar\")\r\n                .setPositiveButton(\"ok\", new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        ActivityCompat.requestPermissions(Activity_EditarPerfil.this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_CODE);\r\n                    }\r\n\r\n                })\r\n                .setNegativeButton(\"cancel\", new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                    }\r\n                })\r\n                .create().show();\r\n        } else{\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_CODE);\r\n        }\r\n    }\r\n\r\n    public void loadUserInfo(){\r\n        myRef = database.getReference(PATH_USERS);\r\n        myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for(DataSnapshot singleSnapshot : dataSnapshot.getChildren()){\r\n                    Usuario usuario = singleSnapshot.getValue(Usuario.class);\r\n                    String email = usuario.getUsername();\r\n                    String nombreC = usuario.getName();\r\n                    String contraseñaA = usuario.getContraseña();\r\n                    //String fecha = usuario.getFechaNacimiento().toString();\r\n                    String telefono = String.valueOf(usuario.getTelefono());\r\n                    String direccion = usuario.getDireccion();\r\n\r\n                    Log.d(\"LOADUSER\", email +\"/\" + mAuth.getCurrentUser().getEmail());\r\n                    if(email.equals(mAuth.getCurrentUser().getEmail())) {\r\n\r\n                        mNombreUsuario.setText(email);\r\n                        mNombreCompleto.setText(nombreC);\r\n                        mContraseñaAntigua.setText(contraseñaA);\r\n                        //mFechaNacimeiento.setText(fecha);\r\n                        mTelefono.setText(telefono);\r\n                        mDireccion.setText(direccion);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.w(\"LOADUSER\", \"Error en la consulta\", databaseError.toException());\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == STORAGE_PERMISSION_CODE) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, \"Permiso Concedido\", Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, \"Permiso Denegado\", Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private void takeImage() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        startActivityForResult(takePictureIntent,REQUEST_IMAGE_CAPTURE);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        ImageView image = (ImageView) findViewById(R.id.imagenFotoPerfil);\r\n        switch (requestCode) {\r\n            case 1: {\r\n                if (resultCode == RESULT_OK) {\r\n                    try {\r\n                        final Uri imageUri = data.getData();\r\n                        final InputStream imageStream = getContentResolver().openInputStream(imageUri);\r\n                        final Bitmap selectedImage = BitmapFactory.decodeStream(imageStream);\r\n                        image.setImageBitmap(selectedImage);\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            case 2: {\r\n                if (requestCode == REQUEST_IMAGE_CAPTURE && resultCode == RESULT_OK) {\r\n                    Bundle extras = data.getExtras();\r\n                    Bitmap imageBitmap = (Bitmap) extras.get(\"data\");\r\n                    image.setImageBitmap(imageBitmap);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.activity__navegation, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        int itemClicked = item.getItemId();\r\n        if(itemClicked == R.id.menuCambiarRol){\r\n            Intent intent = new Intent(this, Activity_Roles.class);\r\n            startActivity(intent);\r\n        }else if (itemClicked == R.id.menuEditarPerfil){\r\n            Intent intent = new Intent( this, Activity_EditarPerfil.class);\r\n            startActivity(intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/u_vallet/Activity_EditarPerfil.java	(revision 166a6432f797bd10a83a0d6e0b75b49ca2e5c92f)
+++ app/src/main/java/com/example/u_vallet/Activity_EditarPerfil.java	(date 1619933047737)
@@ -39,8 +39,13 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.gms.tasks.Task;
 import com.google.android.material.navigation.NavigationView;
+import com.google.android.material.snackbar.Snackbar;
+import com.google.firebase.auth.AuthCredential;
+import com.google.firebase.auth.EmailAuthProvider;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
@@ -74,7 +79,8 @@
     private EditText mTelefono;
     private EditText mDireccion;
     private ImageView mImageView;
-
+    private FirebaseUser user;
+    private EditText mContraseñaNueva;
     int IMAGE_PICKER_REQUEST = 1;
     int REQUEST_IMAGE_CAPTURE = 2;
 
@@ -96,6 +102,7 @@
         mNombreUsuario = (EditText) findViewById(R.id.nombreUsuarioText);
         mNombreCompleto = (EditText) findViewById(R.id.nombreCompletoText);
         mContraseñaAntigua = (EditText) findViewById(R.id.contrasenaAntiguaText);
+        mContraseñaNueva = (EditText) findViewById(R.id.contrasenaNuevaText);
         mFechaNacimeiento = (TextView) findViewById(R.id.fechaNacimientoPick);
         mTelefono = (EditText) findViewById(R.id.telefonoText);
         mDireccion = (EditText) findViewById(R.id.direccionText);
@@ -182,6 +189,8 @@
         Guardar.setOnClickListener((new View.OnClickListener() {
             @Override
             public void onClick(View v) {
+                if(mContraseñaNueva.getText().toString()!= null)
+                guardarcontraseña();
                 Intent intentRoles = new Intent(v.getContext(), Activity_Roles.class);
                 startActivity(intentRoles);
             }
@@ -196,6 +205,40 @@
 
     }
 
+    private void guardarcontraseña(){
+        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
+
+        // Get auth credentials from the user for re-authentication. The example below shows
+        // email and password credentials but there are multiple possible providers,
+        // such as GoogleAuthProvider or FacebookAuthProvider.
+        String nombreusuario = mNombreUsuario.getText().toString();
+        String contra =mContraseñaAntigua.getText().toString();
+        String nueva = mContraseñaNueva.getText().toString();
+        Log.d("hello",nombreusuario);
+        AuthCredential credential = EmailAuthProvider.getCredential(nombreusuario, "contraseña");
+
+        // Prompt the user to re-provide their sign-in credentials
+        user.reauthenticate(credential).addOnCompleteListener(new OnCompleteListener<Void>() {
+            @Override
+            public void onComplete(@NonNull Task<Void> task) {
+                if (task.isSuccessful()) {
+                    user.updatePassword(nueva).addOnCompleteListener(new OnCompleteListener<Void>() {
+                        @Override
+                        public void onComplete(@NonNull Task<Void> task) {
+                            if (task.isSuccessful()) {
+                                Log.d("hello", "Password updated");
+                            } else {
+                                Log.d("hello", "Error password not updated");
+                            }
+                        }
+                    });
+                } else {
+                    Log.d("hello", "Error auth failed");
+                }
+            }
+        });
+    }
+
     private void requestStoragePermission(){
         if(ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)){
             new AlertDialog.Builder(this)
Index: app/src/main/java/com/example/u_vallet/Activity_Roles.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.u_vallet;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class Activity_Roles extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_roles);\r\n\r\n        Button botonConductor = (Button) findViewById(R.id.Roles_BotonConductor);\r\n        Button botonPasajero = (Button) findViewById(R.id.Roles_BotonPasajero);\r\n\r\n        botonConductor.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intentConductor = new Intent (v.getContext(), Activity_MisCarros.class);\r\n                startActivity(intentConductor);\r\n            }\r\n        });\r\n\r\n        botonPasajero.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intentPasajero = new Intent (v.getContext(), Activity_ExplorarViajes.class);\r\n                startActivity(intentPasajero);\r\n            }\r\n        });\r\n\r\n    }\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu){\r\n        getMenuInflater().inflate(R.menu.activity__navegation, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item){\r\n        int itemClicked = item.getItemId();\r\n        if(itemClicked == R.id.menuCambiarRol){\r\n            Intent intent = new Intent(this, Activity_Roles.class);\r\n            startActivity(intent);\r\n        }else if (itemClicked == R.id.menuEditarPerfil){\r\n            Intent intent = new Intent( this, Activity_EditarPerfil.class);\r\n            startActivity(intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/u_vallet/Activity_Roles.java	(revision 166a6432f797bd10a83a0d6e0b75b49ca2e5c92f)
+++ app/src/main/java/com/example/u_vallet/Activity_Roles.java	(date 1619916594412)
@@ -14,6 +14,8 @@
 import android.view.View;
 import android.widget.Button;
 
+import com.google.firebase.auth.FirebaseAuth;
+
 public class Activity_Roles extends AppCompatActivity {
 
     @Override
@@ -56,6 +58,10 @@
         }else if (itemClicked == R.id.menuEditarPerfil){
             Intent intent = new Intent( this, Activity_EditarPerfil.class);
             startActivity(intent);
+        }else if(itemClicked == R.id.menuLogOut){
+            FirebaseAuth.getInstance().signOut();
+            Intent intent = new Intent( this, Activity_Login.class);
+            startActivity(intent);
         }
         return super.onOptionsItemSelected(item);
     }
Index: app/src/main/res/layout/activity_editar_perfil.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fillViewport=\"true\">\r\n\r\n    <TableLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:stretchColumns=\"1\">\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            tools:context=\".Activity_EditarPerfil\"\r\n\r\n            android:background=\"@drawable/fondo\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/Uvallet\"\r\n                android:layout_width=\"188dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentTop=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"117dp\"\r\n                android:layout_marginLeft=\"117dp\"\r\n                android:layout_marginTop=\"4dp\"\r\n                android:layout_marginEnd=\"106dp\"\r\n                android:layout_marginRight=\"106dp\"\r\n                android:background=\"#000C0808\"\r\n                android:text=\"U Vallet\"\r\n                android:textColor=\"#3F51B5\"\r\n                android:textSize=\"40sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/editar_perfil\"\r\n                android:layout_width=\"166dp\"\r\n                android:layout_height=\"37dp\"\r\n                android:layout_below=\"@+id/Uvallet\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"113dp\"\r\n                android:layout_marginLeft=\"113dp\"\r\n                android:layout_marginTop=\"-5dp\"\r\n                android:layout_marginEnd=\"132dp\"\r\n                android:layout_marginRight=\"132dp\"\r\n                android:text=\"Editar Perfil\"\r\n                android:textColor=\"#050505\"\r\n                android:textSize=\"20sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <!--<ImageView\r\n                android:id=\"@+id/imagenFotoPerfil\"\r\n                android:layout_width=\"90dp\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_below=\"@+id/editar_perfil\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginTop=\"-8dp\"\r\n                android:layout_marginEnd=\"302dp\"\r\n                android:layout_marginRight=\"302dp\"\r\n                app:srcCompat=\"@drawable/ic_logo\" />-->\r\n\r\n            <com.google.android.material.imageview.ShapeableImageView\r\n                android:id=\"@id/imagenFotoPerfil\"\r\n                android:layout_width=\"100dp\"\r\n                android:layout_height=\"100dp\"\r\n                android:layout_below=\"@+id/editar_perfil\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginTop=\"50dp\"\r\n                android:layout_marginEnd=\"306dp\"\r\n                android:layout_marginRight=\"306dp\"\r\n                android:adjustViewBounds=\"true\"\r\n                android:scaleType=\"fitXY\"\r\n                android:src=\"@drawable/ic_logo\"\r\n                app:shapeAppearanceOverlay=\"@style/roundImageView\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/botonCambiarImagen\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_alignTop=\"@+id/imagenFotoPerfil\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"114dp\"\r\n                android:layout_marginLeft=\"114dp\"\r\n                android:layout_marginTop=\"58dp\"\r\n                android:layout_marginEnd=\"36dp\"\r\n                android:layout_marginRight=\"36dp\"\r\n                android:text=\"Seleccionar foto\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/botonTomarFoto\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_alignTop=\"@+id/imagenFotoPerfil\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"139dp\"\r\n                android:layout_marginLeft=\"139dp\"\r\n                android:layout_marginTop=\"19dp\"\r\n                android:layout_marginEnd=\"94dp\"\r\n                android:layout_marginRight=\"94dp\"\r\n                android:text=\"Tomar foto\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/nombreUsuarioView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/botonCambiarImagen\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"50dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Correo Electronico\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/nombreUsuarioText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"-2dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/nombreCompletoText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"56dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/nombreCompletoView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"3dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Nombre Completo\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/contrasenaAntiguaView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreCompletoText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"2dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Contraseña Antigua\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/contrasenaAntiguaText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"116dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"textPassword\" />\r\n\r\n\r\n            <EditText\r\n                android:id=\"@+id/contrasenaNuevaText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"174dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"textPassword\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/aontrasenaNuevaView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreCompletoText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"60dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Contraseña Nueva\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/fechaNacimientoView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreCompletoText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"118dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Fecha de Nacimiento\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/fechaNacimientoPick\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"247dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:gravity=\"center\"\r\n                android:hint=\"DD/MM/YYYY\"\r\n                android:inputType=\"date\"\r\n                android:textSize=\"18sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/telefonoView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreCompletoText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"176dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Telefono\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/telefonoText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"290dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"phone\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/direccionView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreCompletoText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"236dp\"\r\n                android:layout_marginEnd=\"116dp\"\r\n                android:layout_marginRight=\"116dp\"\r\n                android:text=\"Dirección de Residencia\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <EditText\r\n                android:id=\"@+id/direccionText\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/nombreUsuarioView\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"350dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:ems=\"10\"\r\n                android:inputType=\"\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/botonGuardar\"\r\n                android:layout_width=\"120dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_below=\"@+id/direccionText\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentLeft=\"true\"\r\n                android:layout_marginStart=\"33dp\"\r\n                android:layout_marginLeft=\"33dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:background=\"#EEBC0B\"\r\n                android:text=\"Guardar\"\r\n                app:backgroundTint=\"#EEBC0B\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/cancelar\"\r\n                android:layout_width=\"120dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_below=\"@+id/direccionText\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:layout_marginStart=\"57dp\"\r\n                android:layout_marginLeft=\"57dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"31dp\"\r\n                android:layout_marginRight=\"31dp\"\r\n                android:layout_toEndOf=\"@+id/botonGuardar\"\r\n                android:layout_toRightOf=\"@+id/botonGuardar\"\r\n                android:background=\"#EE0B0B\"\r\n                android:text=\"Cancelar\"\r\n                app:backgroundTint=\"#EE0B0B\" />\r\n        </RelativeLayout>\r\n    </TableLayout>\r\n</ScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_editar_perfil.xml	(revision 166a6432f797bd10a83a0d6e0b75b49ca2e5c92f)
+++ app/src/main/res/layout/activity_editar_perfil.xml	(date 1619932520103)
@@ -216,8 +216,9 @@
                 android:layout_marginTop="116dp"
                 android:layout_marginEnd="31dp"
                 android:layout_marginRight="31dp"
-                android:ems="10"
-                android:inputType="textPassword" />
+                android:ems="10"/>
+               <!-- android:inputType="textPassword" -->
+
 
 
             <EditText
